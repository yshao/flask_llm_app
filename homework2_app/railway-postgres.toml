# ============================================================================
# Railway Configuration for PostgreSQL with pgvector (Dockerfile.llm)
# ============================================================================
# This configures a custom PostgreSQL service using Dockerfile.llm
# Rename this to railway.toml when deploying as a separate service
# ============================================================================

[project]
name = "pgvector-postgres"

[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile.llm"
context = "."

[service]
name = "postgres-pgvector"
# PostgreSQL is a stateful service
restart_policy_type = "ALWAYS"

[service.health_check]
# Use TCP connection check for PostgreSQL
# Note: Railway may override this with built-in PostgreSQL health check
tcp = true
port = 5432
interval = "30s"
timeout = "10s"
grace_period = "30s"
failure_threshold = 3

# -----------------------------------------------------------------------------
# Environment Variables (Railway will inject these)
# -----------------------------------------------------------------------------
# POSTGRES_DB - Database name (default: homework_db)
# POSTGRES_USER - Database user (default: postgres)
# POSTGRES_PASSWORD - Auto-generated by Railway
# -----------------------------------------------------------------------------
